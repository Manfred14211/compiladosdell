@model iveCincoFrame.Models.CatUbicaciones

@{
    ViewBag.Title = "Agregar Sucursal";
    Layout = null;
}

<div class="row">
    <div class="mb-3"><button type="button" class="btn btn-primary btn-lg" onclick="location.href='@Url.Action("Index", "TblSucursales")'" style="box-shadow: 0 0.15rem 1.75rem 0 rgb(33 40 50 / 15%);"><i class="align-middle me-2 fas fa-fw fa-arrow-alt-circle-left"></i></button></div>
    <div class="card-actions bg-warning-dark text-white"><i class="align-middle me-2 fas fa-fw fa-exclamation-triangle"></i> Editar Sucursal</div>

    <div class="col-xl-12 card" style="box-shadow: 0 0.15rem 1.75rem 0 rgb(33 40 50 / 15%);">
        <!-- Account details card-->

        <div class="card-body">
            <h3>Detalles de la Sucursal</h3>
            <form>
                <!-- Form Row-->
                <div class="row gx-3 mb-3 d-none">
                    <div class="col-md-4">
                        <label class="small mb-1" for="idCatUbicaciones">Codigo</label>
                        @Html.EditorFor(model => model.idCatUbicaciones, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.idCatUbicaciones, "", new { @class = "text-danger" })
                    </div>
                </div>
                <!-- Form Row-->
                <div class="row gx-3 mb-3">
                    <div class="col-md-4">
                        <label class="small mb-1" for="idCatRegiones">Region</label>
                        @Html.DropDownList("idCatRegiones", null, htmlAttributes: new { @class = "form-select flex-grow-1" })
                    </div>
                    <!-- Form Group (first name)-->
                    <div class="col-md-4">
                        <label class="small mb-1" for="codigo">Codigo</label>
                        @Html.EditorFor(model => model.codigo, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.codigo, "", new { @class = "text-danger" })
                    </div>
                    <!-- Form Group (organization name)-->
                    <div class="col-md-4">
                        <label class="small mb-1" for="nombre">Nombre</label>
                        @Html.EditorFor(model => model.nombre, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.nombre, "", new { @class = "text-danger" })
                    </div>

                </div>
                <div class="col-md-12">
                    <div class="col-md-12">
                        <label class="small mb-1" for="d">Direccion</label>
                        @Html.EditorFor(model => model.direccion, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.direccion, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="row gx-3 mb-3">
                    <!-- Form Group (first name)-->
                    <div class="col-md-4">
                        <label class="small mb-1" for="correo">Correo</label>
                        @Html.EditorFor(model => model.correo, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.correo, "", new { @class = "text-danger" })
                    </div>
                    <div class="col-md-4">
                        <label class="small mb-1" for="telefono">Telefono</label>
                        @Html.EditorFor(model => model.telefono, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.telefono, "", new { @class = "text-danger" })
                    </div>
                    <div class="col-md-4">
                        <label class="small mb-1" for="descripcion">descripcion</label>
                        @Html.EditorFor(model => model.descripcion, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.descripcion, "", new { @class = "text-danger" })
                    </div>
                    <!-- Form Group (last name)-->

                </div>
                <!-- Form Group (username)-->
                <div class="row  mb-3">
                    <!-- Form Group (organization name)-->
                    <div class="col-md-4">

                        <label class="small mb-1" for="codigoNombre">codigoNombre</label>
                        @Html.EditorFor(model => model.codigoNombre, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.telefono, "", new { @class = "text-danger" })

                    </div>
                    <div class="col-md-4">
                        <label class="small mb-1" for="idCatDepartamentosRepublicas">Departamento</label>
                        @Html.DropDownList("idCatDepartamentosRepublicas", null, htmlAttributes: new { @class = "form-select flex-grow-1" })
                    </div>
                    <!-- Form Group (location)-->
                    <div class="col-md-4">
                        <label class="small mb-1" for="idMunicipiosRepublicas">Municipio</label>
                        @Html.DropDownList("idMunicipiosRepublicas", null, htmlAttributes: new { @class = "form-select flex-grow-1" })
                    </div>
                </div>
                <!-- Form Row-->
                <div class="row  mb-3">
                    <div class="col-md-4">
                        <label class="small mb-1" for="idSucursal">Id Sucursal</label>
                        @Html.EditorFor(model => model.idSucursal, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.idSucursal, "", new { @class = "text-danger" })
                    </div>
                    <div class="col-md-4">
                        <label class="small mb-1" for="nombreTarjetaCredito">Nombre Multicredit</label>
                        @Html.EditorFor(model => model.nombreTarjetaCredito, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.nombreTarjetaCredito, "", new { @class = "text-danger" })
                    </div>
                    <div class="col-md-4">
                        <label class="small mb-1" for="idCatTipoUbicaciones">Tipo de ubicacion</label>
                        @Html.DropDownList("idCatTipoUbicaciones", null, htmlAttributes: new { @class = "form-select flex-grow-1" })
                    </div>
                </div>
                <!-- Form Row-->
                <div class="row  mb-3">
                    <div class="col-md-4">
                        <label class="small mb-1" for="captacionBase">Captacion Base</label>
                        @Html.EditorFor(model => model.captacionBase, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.captacionBase, "", new { @class = "text-danger" })
                    </div>
                    <div class="col-md-4">
                        <label class="small mb-1" for="plazoFijo">Plazo Fijo</label>
                        @Html.EditorFor(model => model.plazoFijo, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.plazoFijo, "", new { @class = "text-danger" })
                    </div>
                    <div class="col-md-4">
                        <label class="small mb-1" for="totalAhorros">Total de Ahorro</label>
                        @Html.EditorFor(model => model.totalAhorros, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.totalAhorros, "", new { @class = "text-danger" })
                    </div>
                </div>
                <!-- Form Row-->
                <div class="row  mb-3">
                    <div class="col-md-4">
                        <label class="small mb-1" for="captacionBase">Codigo Remesas Sigue</label>
                        @Html.EditorFor(model => model.codigoSucrusalSigue, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.codigoSucrusalSigue, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="row  mb-3">
                    <button type="button" class="btn btn-primary btn-lg" id="GuardarCambiosSucursal">Guardar Cambios <i class="align-middle me-2 fas fa-fw fa-check"></i></button>
                    <!-- Form Group (birthday)-->
                </div>
            </form>
        </div>
    </div>
</div>

<script>
$(document).ready(function () {
    $("#idCatDepartamentosRepublicas").change(function () {
        //alert("cambio");
        $("#idMunicipiosRepublicas").empty();
        $.ajax({
               type: 'POST',
               url: '@Url.Action("ObtenerMunicipios", "TblSucursales")',
               dataType:'json',
            data: { departamentoId: $("#idCatDepartamentosRepublicas").val() },
            success: function (response) {

                //debugger;
                $("#idMunicipiosRepublicas").append('<option  value="0" disabled selected>Selececcione</option>');
                $.each(response, function (i, municipios) {
                    $("#idMunicipiosRepublicas").append('<option value="'
                        + municipios.Value + '">'
                        + municipios.Text + '</option>');
                });

            },
            error: function (ex) {
                   alert('No se pueden cargar los coordinadores' + ex)
            }
        });
        return false;

    })
});
</script>

